"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var virtual_device_sdk_1 = require("virtual-device-sdk");
var global_1 = require("../core/global");
var VirtualDeviceClient = (function () {
    function VirtualDeviceClient() {
    }
    VirtualDeviceClient.speak = function (utterance, token, locale, voiceID) {
        if (token) {
            if (global_1.Global.config()) {
                global_1.Global.config().updateVirtualDeviceToken(token);
            }
        }
        var tokenToUse = token ? token : global_1.Global.config().virtualDeviceToken();
        if (!tokenToUse) {
            throw new Error("Token Required");
        }
        var virtualDevice = new virtual_device_sdk_1.VirtualDevice(tokenToUse, locale, voiceID);
        return virtualDevice.message(utterance);
    };
    VirtualDeviceClient.renderResult = function (result) {
        var stringResult = "";
        if (result.transcript) {
            stringResult = "Transcript:\n";
            stringResult += result.transcript + "\n\n";
        }
        if (result.streamURL) {
            stringResult += "Stream:\n";
            stringResult += result.streamURL + "\n\n";
        }
        if (result.card) {
            stringResult += "Card:\n";
            if (result.card.mainTitle) {
                stringResult += result.card.mainTitle + "\n";
            }
            if (result.card.subTitle) {
                stringResult += result.card.subTitle + "\n";
            }
            if (result.card.textField) {
                stringResult += result.card.textField + "\n";
            }
            if (result.card.imageURL) {
                stringResult += result.card.imageURL + "\n";
            }
        }
        return stringResult;
    };
    return VirtualDeviceClient;
}());
exports.VirtualDeviceClient = VirtualDeviceClient;
//# sourceMappingURL=virtual-device.js.map